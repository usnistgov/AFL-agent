
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Basic Fitting with AutoSAS &#8212; AFL-agent  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/ntd2d.css?v=525a25f0" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/autosas_fitting';</script>
    <link rel="icon" href="../_static/logo.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interactive Tutorials" href="interactive.html" />
    <link rel="prev" title="Building Pipelines" href="building_pipelines.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />

  <link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
  <script src="https://code.jquery.com/jquery-3.6.2.min.js" type="text/javascript" defer="defer"></script>
  <script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo_text_long.svg" class="logo__image only-light" alt="AFL-agent  documentation - Home"/>
    <img src="../_static/logo_text_long.svg" class="logo__image only-dark pst-js-only" alt="AFL-agent  documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Setup
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../how-to/index.html">
    How-To Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../explanations/index.html">
    Explanations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/usnistgov/afl-agent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Setup
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../how-to/index.html">
    How-To Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../explanations/index.html">
    Explanations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/usnistgov/afl-agent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_pipelines.html">Building Pipelines</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Basic Fitting with AutoSAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Interactive Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_datasets.html">Using Example Datasets</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Tutorials</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Basic Fitting with AutoSAS</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><a class="reference external" href="https://colab.research.google.com/github/usnistgov/AFL-agent/blob/main/docs/source/tutorials/autosas_tutorial.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<section id="Basic-Fitting-with-AutoSAS">
<h1>Basic Fitting with AutoSAS<a class="headerlink" href="#Basic-Fitting-with-AutoSAS" title="Permalink to this heading">#</a></h1>
<p>This tutorial demonstrates how to use AutoSAS to fit small-angle scattering (SAS) data with different models. We’ll explore how to:</p>
<ul class="simple">
<li><p>Load and prepare SAS data</p></li>
<li><p>Set up an AutoSAS fit for a single model</p></li>
<li><p>Compare and evaluate the fits</p></li>
</ul>
<section id="Google-Colab-Setup">
<h2>Google Colab Setup<a class="headerlink" href="#Google-Colab-Setup" title="Permalink to this heading">#</a></h2>
<p>Only uncomment and run the next cell if you are running this notebook in Google Colab or if don’t already have the AFL-agent package installed.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !pip install git+https://github.com/usnistgov/AFL-agent.git</span>
</pre></div>
</div>
</div>
</section>
<section id="Getting-Started">
<h2>Getting Started<a class="headerlink" href="#Getting-Started" title="Permalink to this heading">#</a></h2>
<p>First, let’s import the necessary packages and load our example dataset:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">AFL.double_agent</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">AFL.double_agent.AutoSAS</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoSAS</span>
<br/></pre></div>
</div>
</div>
<p>Next, let’s load the example dataset. We’ll subselect only part of the dataset to work with</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AFL.double_agent.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">example_dataset2</span>

<span class="c1"># Load example dataset and select the mass_fractal model</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">example_dataset2</span><span class="p">()</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">model</span> <span class="o">==</span> <span class="s1">&#39;surface_fractal&#39;</span><span class="p">,</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 17kB
Dimensions:  (sample: 10, q: 100)
Coordinates:
  * q        (q) float64 800B 0.001 0.001072 0.00115 ... 0.8697 0.9326 1.0
Dimensions without coordinates: sample
Data variables:
    I        (sample, q) float64 8kB 5.465e+03 4.598e+03 3.859e+03 ... 1.08 1.03
    dI       (sample, q) float64 8kB 545.9 429.3 342.6 ... 0.1025 0.1025 0.1025
    model    (sample) object 80B &#x27;surface_fractal&#x27; ... &#x27;surface_fractal&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-4d174abd-4579-428d-8567-163caac45e2f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-4d174abd-4579-428d-8567-163caac45e2f' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>sample</span>: 10</li><li><span class='xr-has-index'>q</span>: 100</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-53b0af27-cd9d-48ae-93d1-a6b66b4d2176' class='xr-section-summary-in' type='checkbox'  checked><label for='section-53b0af27-cd9d-48ae-93d1-a6b66b4d2176' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>q</span></div><div class='xr-var-dims'>(q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.001 0.001072 ... 0.9326 1.0</div><input id='attrs-bd500c0e-ebff-4644-8f87-b94e9eb798b1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bd500c0e-ebff-4644-8f87-b94e9eb798b1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-818a7046-8050-4d11-aea7-1b9f3c199f0e' class='xr-var-data-in' type='checkbox'><label for='data-818a7046-8050-4d11-aea7-1b9f3c199f0e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.001   , 0.001072, 0.00115 , 0.001233, 0.001322, 0.001417, 0.00152 ,
       0.00163 , 0.001748, 0.001874, 0.002009, 0.002154, 0.00231 , 0.002477,
       0.002656, 0.002848, 0.003054, 0.003275, 0.003511, 0.003765, 0.004037,
       0.004329, 0.004642, 0.004977, 0.005337, 0.005722, 0.006136, 0.006579,
       0.007055, 0.007565, 0.008111, 0.008697, 0.009326, 0.01    , 0.010723,
       0.011498, 0.012328, 0.013219, 0.014175, 0.015199, 0.016298, 0.017475,
       0.018738, 0.020092, 0.021544, 0.023101, 0.024771, 0.026561, 0.02848 ,
       0.030539, 0.032745, 0.035112, 0.037649, 0.04037 , 0.043288, 0.046416,
       0.04977 , 0.053367, 0.057224, 0.061359, 0.065793, 0.070548, 0.075646,
       0.081113, 0.086975, 0.09326 , 0.1     , 0.107227, 0.114976, 0.123285,
       0.132194, 0.141747, 0.151991, 0.162975, 0.174753, 0.187382, 0.200923,
       0.215443, 0.231013, 0.247708, 0.265609, 0.284804, 0.305386, 0.327455,
       0.351119, 0.376494, 0.403702, 0.432876, 0.464159, 0.497702, 0.53367 ,
       0.572237, 0.613591, 0.657933, 0.70548 , 0.756463, 0.811131, 0.869749,
       0.932603, 1.      ])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d6278ecf-c439-4ae4-b20e-a86a3d1815c0' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d6278ecf-c439-4ae4-b20e-a86a3d1815c0' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>I</span></div><div class='xr-var-dims'>(sample, q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.465e+03 4.598e+03 ... 1.08 1.03</div><input id='attrs-5957302e-9bb1-4cd6-9a2e-4be5e29bb3ad' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5957302e-9bb1-4cd6-9a2e-4be5e29bb3ad' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-07168c48-df0e-490c-bbf7-3b2391c828bd' class='xr-var-data-in' type='checkbox'><label for='data-07168c48-df0e-490c-bbf7-3b2391c828bd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.46461639e+03, 4.59795217e+03, 3.85947764e+03, 2.63116991e+03,
        2.07431068e+03, 1.90372910e+03, 1.52919611e+03, 1.18680603e+03,
        7.97363765e+02, 7.32615952e+02, 5.66816880e+02, 4.94345998e+02,
        3.36397055e+02, 2.37278594e+02, 2.42920544e+02, 1.34983362e+02,
        1.34237874e+02, 1.03846296e+02, 8.29189655e+01, 6.83701899e+01,
        6.63256975e+01, 5.12285645e+01, 3.69922707e+01, 3.39076629e+01,
        2.18803647e+01, 1.73545761e+01, 1.72935304e+01, 1.36371299e+01,
        9.99274093e+00, 7.57838776e+00, 8.03734181e+00, 4.79334463e+00,
        4.52480217e+00, 4.12653133e+00, 4.02874009e+00, 3.03039434e+00,
        2.64512398e+00, 2.08340062e+00, 2.06956646e+00, 1.77666195e+00,
        1.34466308e+00, 1.58804022e+00, 1.50286123e+00, 1.39259080e+00,
        1.22861525e+00, 1.06093375e+00, 8.70672131e-01, 1.11665926e+00,
        1.18944518e+00, 1.15730959e+00, 1.12048958e+00, 1.01513955e+00,
        1.12226043e+00, 1.09654942e+00, 9.54941615e-01, 1.05883843e+00,
        9.34551784e-01, 1.03722137e+00, 8.53878098e-01, 8.59529011e-01,
        1.08092481e+00, 1.06762940e+00, 1.03679594e+00, 9.82713801e-01,
        7.40669867e-01, 9.65608102e-01, 1.01661701e+00, 9.20115667e-01,
        9.02574126e-01, 1.11192951e+00, 9.65555406e-01, 1.01544208e+00,
        1.04633562e+00, 8.73818665e-01, 9.89752619e-01, 1.09906348e+00,
        1.14751493e+00, 9.74729174e-01, 9.47722591e-01, 9.96916206e-01,
...
        1.68659503e+01, 1.21223648e+01, 1.11133601e+01, 9.10365006e+00,
        6.73558113e+00, 6.97103702e+00, 5.41643178e+00, 4.37274298e+00,
        3.67703675e+00, 3.36002895e+00, 2.99974570e+00, 2.50035574e+00,
        1.61113936e+00, 2.02067402e+00, 1.56634607e+00, 1.64317783e+00,
        1.33669955e+00, 1.24903013e+00, 1.54373516e+00, 1.26632138e+00,
        1.20500451e+00, 1.26988377e+00, 1.13266379e+00, 1.38916806e+00,
        1.09384785e+00, 1.14612961e+00, 1.19638613e+00, 1.25087240e+00,
        9.88833790e-01, 1.01563593e+00, 1.18758077e+00, 1.13285017e+00,
        1.15581064e+00, 8.97716447e-01, 1.19776362e+00, 9.56081475e-01,
        1.05285363e+00, 1.01616943e+00, 9.39712262e-01, 8.83827077e-01,
        8.49052391e-01, 1.03995513e+00, 8.70505949e-01, 9.10332790e-01,
        1.00401302e+00, 7.55334842e-01, 1.10578357e+00, 7.78503133e-01,
        1.01759208e+00, 1.02694203e+00, 1.08046813e+00, 1.02094522e+00,
        1.23201786e+00, 1.04727214e+00, 1.13305453e+00, 9.50861724e-01,
        1.03736647e+00, 1.18358616e+00, 1.00058403e+00, 1.04463379e+00,
        1.12544799e+00, 9.48836608e-01, 8.03361737e-01, 1.05108694e+00,
        1.12621544e+00, 8.86376068e-01, 1.09356943e+00, 1.09425776e+00,
        7.91869799e-01, 9.28915087e-01, 9.84303854e-01, 1.00646082e+00,
        9.48707402e-01, 9.43185820e-01, 1.19617226e+00, 1.01384350e+00,
        9.53633740e-01, 1.02064675e+00, 1.07991038e+00, 1.03015655e+00]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dI</span></div><div class='xr-var-dims'>(sample, q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>545.9 429.3 342.6 ... 0.1025 0.1025</div><input id='attrs-26e9b9b9-edcf-4379-ab6c-d0cc12247e42' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-26e9b9b9-edcf-4379-ab6c-d0cc12247e42' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f65f3816-a404-4421-9017-f27e16cc5900' class='xr-var-data-in' type='checkbox'><label for='data-f65f3816-a404-4421-9017-f27e16cc5900' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.45853473e+02, 4.29328308e+02, 3.42588723e+02, 2.73192209e+02,
        2.17856990e+02, 1.73733931e+02, 1.38551196e+02, 1.10497276e+02,
        8.81277103e+01, 7.02907222e+01, 5.60679092e+01, 4.47269581e+01,
        3.56839388e+01, 2.84732387e+01, 2.27235887e+01, 1.81389471e+01,
        1.44832570e+01, 1.15682920e+01, 9.24396451e+00, 7.39059804e+00,
        5.91276532e+00, 4.73437476e+00, 3.79475264e+00, 3.04551910e+00,
        2.44809713e+00, 1.97172629e+00, 1.59187891e+00, 1.28899714e+00,
        1.04748604e+00, 8.54910523e-01, 7.01355136e-01, 5.78913526e-01,
        4.81281341e-01, 4.03431633e-01, 3.41356027e-01, 2.91858335e-01,
        2.52389990e-01, 2.20918819e-01, 1.95824416e-01, 1.75814703e-01,
        1.59859408e-01, 1.47137015e-01, 1.36992465e-01, 1.28903429e-01,
        1.22453414e-01, 1.17310317e-01, 1.13209327e-01, 1.09939290e-01,
        1.07331836e-01, 1.05252710e-01, 1.03594863e-01, 1.02272932e-01,
        1.01218855e-01, 1.00378357e-01, 9.97081631e-02, 9.91737655e-02,
        9.87476489e-02, 9.84078731e-02, 9.81369435e-02, 9.79209104e-02,
        9.77486504e-02, 9.76112942e-02, 9.75017694e-02, 9.74144368e-02,
        9.73447998e-02, 9.72892728e-02, 9.72449968e-02, 9.72096921e-02,
        9.71815409e-02, 9.71590938e-02, 9.71411950e-02, 9.71269229e-02,
        9.71155427e-02, 9.71064683e-02, 9.70992326e-02, 9.70934630e-02,
        9.70888625e-02, 9.70851941e-02, 9.70822691e-02, 9.70799367e-02,
...
        1.60288535e+00, 1.32000197e+00, 1.09045307e+00, 9.04183049e-01,
        7.53032148e-01, 6.30379054e-01, 5.30850825e-01, 4.50087527e-01,
        3.84551243e-01, 3.31371090e-01, 2.88217459e-01, 2.53199961e-01,
        2.24784619e-01, 2.01726672e-01, 1.83016041e-01, 1.67833091e-01,
        1.55512715e-01, 1.45515208e-01, 1.37402619e-01, 1.30819567e-01,
        1.25477676e-01, 1.21142939e-01, 1.17625467e-01, 1.14771176e-01,
        1.12455029e-01, 1.10575566e-01, 1.09050454e-01, 1.07812885e-01,
        1.06808646e-01, 1.05993745e-01, 1.05332484e-01, 1.04795897e-01,
        1.04360477e-01, 1.04007151e-01, 1.03720440e-01, 1.03487786e-01,
        1.03298995e-01, 1.03145799e-01, 1.03021487e-01, 1.02920612e-01,
        1.02838756e-01, 1.02772333e-01, 1.02718434e-01, 1.02674696e-01,
        1.02639205e-01, 1.02610405e-01, 1.02587035e-01, 1.02568071e-01,
        1.02552683e-01, 1.02540196e-01, 1.02530063e-01, 1.02521841e-01,
        1.02515169e-01, 1.02509755e-01, 1.02505361e-01, 1.02501796e-01,
        1.02498903e-01, 1.02496556e-01, 1.02494651e-01, 1.02493105e-01,
        1.02491851e-01, 1.02490833e-01, 1.02490007e-01, 1.02489337e-01,
        1.02488793e-01, 1.02488352e-01, 1.02487994e-01, 1.02487703e-01,
        1.02487467e-01, 1.02487276e-01, 1.02487121e-01, 1.02486995e-01,
        1.02486892e-01, 1.02486809e-01, 1.02486742e-01, 1.02486687e-01,
        1.02486643e-01, 1.02486607e-01, 1.02486578e-01, 1.02486554e-01]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>model</span></div><div class='xr-var-dims'>(sample)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;surface_fractal&#x27; ... &#x27;surface_f...</div><input id='attrs-5e6552eb-a54e-477a-b010-983cc9380c11' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5e6552eb-a54e-477a-b010-983cc9380c11' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9d765da9-88e3-4972-b8de-4f947a57026e' class='xr-var-data-in' type='checkbox'><label for='data-9d765da9-88e3-4972-b8de-4f947a57026e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-178db3a8-f705-402b-a553-ab84770eb194' class='xr-section-summary-in' type='checkbox'  ><label for='section-178db3a8-f705-402b-a553-ab84770eb194' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>q</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-97d29c93-9eb0-4456-9142-89a2b0880e5f' class='xr-index-data-in' type='checkbox'/><label for='index-97d29c93-9eb0-4456-9142-89a2b0880e5f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([                0.001, 0.0010722672220103231, 0.0011497569953977356,
       0.0012328467394420659, 0.0013219411484660286, 0.0014174741629268048,
       0.0015199110829529332, 0.0016297508346206436,  0.001747528400007683,
        0.001873817422860383,  0.002009233002565048, 0.0021544346900318843,
       0.0023101297000831605, 0.0024770763559917113, 0.0026560877829466868,
        0.002848035868435802, 0.0030538555088334154, 0.0032745491628777285,
        0.003511191734215131, 0.0037649358067924675,  0.004037017258596553,
        0.004328761281083057,  0.004641588833612782,  0.004977023564332114,
        0.005336699231206312,   0.00572236765935022,  0.006135907273413176,
        0.006579332246575682,  0.007054802310718645,  0.007564633275546291,
        0.008111308307896872,  0.008697490026177835,    0.0093260334688322,
                        0.01,  0.010722672220103232,  0.011497569953977356,
        0.012328467394420659,  0.013219411484660293,  0.014174741629268055,
         0.01519911082952934,  0.016297508346206444,   0.01747528400007684,
         0.01873817422860384,   0.02009233002565047,  0.021544346900318846,
        0.023101297000831605,  0.024770763559917114,  0.026560877829466867,
         0.02848035868435802,  0.030538555088334154,   0.03274549162877728,
         0.03511191734215131,  0.037649358067924674,   0.04037017258596556,
         0.04328761281083059,  0.046415888336127795,  0.049770235643321115,
          0.0533669923120631,   0.05722367659350217,   0.06135907273413173,
         0.06579332246575682,   0.07054802310718646,   0.07564633275546291,
         0.08111308307896872,   0.08697490026177834,     0.093260334688322,
                         0.1,   0.10722672220103231,   0.11497569953977356,
         0.12328467394420659,   0.13219411484660287,   0.14174741629268048,
          0.1519911082952933,   0.16297508346206452,    0.1747528400007685,
          0.1873817422860385,    0.2009233002565048,   0.21544346900318845,
         0.23101297000831603,   0.24770763559917114,   0.26560877829466867,
          0.2848035868435802,   0.30538555088334157,   0.32745491628777285,
          0.3511191734215131,   0.37649358067924676,   0.40370172585965536,
          0.4328761281083057,    0.4641588833612782,   0.49770235643321137,
          0.5336699231206312,     0.572236765935022,    0.6135907273413176,
          0.6579332246575682,    0.7054802310718645,    0.7564633275546291,
          0.8111308307896873,    0.8697490026177834,    0.9326033468832199,
                         1.0],
      dtype=&#x27;float64&#x27;, name=&#x27;q&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-965b6865-55dd-4bf5-bff0-3619e9eacfc9' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-965b6865-55dd-4bf5-bff0-3619e9eacfc9' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>Let’s plot the data so we can see what we’re trying to fit.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">,</span><span class="n">xscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">yscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">add_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_autosas_fitting_8_0.png" src="../_images/tutorials_autosas_fitting_8_0.png" />
</div>
</div>
</section>
<section id="Defining-the-Fit">
<h2>Defining the Fit<a class="headerlink" href="#Defining-the-Fit" title="Permalink to this heading">#</a></h2>
<p>The first step to AutoSAS is to define which models we’d like to fit. Let’s start with a single model</p>
<p>The model inputs are defined as a list of dictionaries, where each dictionary specifies:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: A user-defined name for the model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sasmodel</span></code>: The name of the model in the sasmodels library to use</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q_min</span></code>: the minimum q_value to consider in the fit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q_max</span></code>: the maximum q_value to consider in the fit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit_params</span></code>: A dictionary of parameters for the model, where:</p>
<ul>
<li><p>the <code class="docutils literal notranslate"><span class="pre">value</span></code> field determines the initial starting value for the parameter optimization</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">bounds</span></code> field determines the range that the optimizer can use to fit the data. Restricting this range is very important to achieving a proper fit</p>
<ul>
<li><p>Parameters with “bounds” will be fit within those bounds</p></li>
<li><p>Parameters without bounds will be held constant at the specified value</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In the example below, “power” and “scale” will be fit since they have bounds, while “background” will be held constant at 1.0</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_inputs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;surface_fractal&quot;</span><span class="p">,</span> <span class="c1"># your name for the model, can be anything</span>
        <span class="s2">&quot;sasmodel&quot;</span><span class="p">:</span> <span class="s2">&quot;power_law&quot;</span><span class="p">,</span> <span class="c1"># the name of the sasmodel in the sasmodels library</span>
        <span class="s1">&#39;q_min&#39;</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span>
        <span class="s1">&#39;q_max&#39;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="s2">&quot;fit_params&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;power&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)},</span>
            <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1e-6</span><span class="p">,</span><span class="mf">1e-3</span><span class="p">)},</span>
            <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,},</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<p>Now we’ll create a <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> with a single <code class="docutils literal notranslate"><span class="pre">AutoSAS</span></code> pipeline operation.</p>
<p>The AutoSAS pipeline operation takes several key arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sas_variable</span></code>: The name of the variable containing the SAS intensity data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sas_err_variable</span></code>: The name of the variable containing the uncertainty in the intensity data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q_dim</span></code>: The name of the dimension containing the q values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_prefix</span></code>: A prefix to add to all output variables from the fit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model_inputs</span></code>: A list of dictionaries defining the models to fit, as described above</p></li>
</ul>
<p>Additional optional arguments include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sample_dim</span></code>: The name of the sample dimension (default: ‘sample’)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit_range</span></code>: A tuple of (qmin, qmax) to restrict the q range used for fitting</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_evals</span></code>: Maximum number of function evaluations for the fit (default: 1000)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">method</span></code>: The optimization method to use (default: ‘leastsq’)</p></li>
</ul>
</section>
<section id="Building-and-Executing-the-Pipeline">
<h2>Building and Executing the Pipeline<a class="headerlink" href="#Building-and-Executing-the-Pipeline" title="Permalink to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Pipeline</span><span class="p">()</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
    <span class="n">AutoSAS</span><span class="p">(</span>
        <span class="n">sas_variable</span><span class="o">=</span><span class="s1">&#39;I&#39;</span><span class="p">,</span>
        <span class="n">sas_err_variable</span><span class="o">=</span><span class="s1">&#39;dI&#39;</span><span class="p">,</span>
        <span class="n">q_variable</span> <span class="o">=</span> <span class="s1">&#39;q&#39;</span><span class="p">,</span>
        <span class="n">output_prefix</span><span class="o">=</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span>
        <span class="n">model_inputs</span><span class="o">=</span><span class="n">model_inputs</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PipelineOp                               input_variable ---&gt; output_variable
----------                               -----------------------------------
0  ) &lt;AutoSAS&gt;                           [&#39;q&#39;, &#39;I&#39;, &#39;dI&#39;] ---&gt; [&#39;fit_all_chisq&#39;]

Input Variables
---------------
0) q
1) I
2) dI

Output Variables
----------------
0) fit_all_chisq
</pre></div></div>
</div>
<p>Now we’re ready to fit!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_result</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">ds_result</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "ba4489e9ae734d3cbee4e75bb67063a3", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 35kB
Dimensions:                    (sample: 10, q: 100, models: 1,
                                surface_fractal_params: 3,
                                fit_q_surface_fractal: 100)
Coordinates:
  * q                          (q) float64 800B 0.001 0.001072 ... 0.9326 1.0
  * models                     (models) &lt;U15 60B &#x27;surface_fractal&#x27;
  * surface_fractal_params     (surface_fractal_params) &lt;U26 312B &#x27;surface_fr...
  * fit_q_surface_fractal      (fit_q_surface_fractal) float64 800B 0.001 ......
Dimensions without coordinates: sample
Data variables:
    I                          (sample, q) float64 8kB 5.465e+03 ... 1.03
    dI                         (sample, q) float64 8kB 545.9 429.3 ... 0.1025
    model                      (sample) object 80B &#x27;surface_fractal&#x27; ... &#x27;sur...
    sas_fit_sample             (sample) int64 80B 0 1 2 3 4 5 6 7 8 9
    fit_all_chisq              (sample, models) float64 80B 1.023 ... 1.083
    probabilities              (sample, models) float64 80B 1.0 1.0 ... 1.0 1.0
    surface_fractal_fit_val    (surface_fractal_params, sample) float64 240B ...
    surface_fractal_fit_err    (surface_fractal_params, sample) float64 240B ...
    fit_I_surface_fractal      (sample, fit_q_surface_fractal) float64 8kB 5....
    residuals_surface_fractal  (sample, fit_q_surface_fractal) float64 8kB -0...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-8ca0fffd-1c5e-4570-881a-8748a42e6fb9' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8ca0fffd-1c5e-4570-881a-8748a42e6fb9' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>sample</span>: 10</li><li><span class='xr-has-index'>q</span>: 100</li><li><span class='xr-has-index'>models</span>: 1</li><li><span class='xr-has-index'>surface_fractal_params</span>: 3</li><li><span class='xr-has-index'>fit_q_surface_fractal</span>: 100</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-f0b7f1aa-99cd-46b6-ba6b-8f7f83d33600' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f0b7f1aa-99cd-46b6-ba6b-8f7f83d33600' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>q</span></div><div class='xr-var-dims'>(q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.001 0.001072 ... 0.9326 1.0</div><input id='attrs-6de2e0f2-cd22-4cc4-b928-d85cdf514f0a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6de2e0f2-cd22-4cc4-b928-d85cdf514f0a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5450a4d7-a62f-487e-98b1-b8fc1d1361d8' class='xr-var-data-in' type='checkbox'><label for='data-5450a4d7-a62f-487e-98b1-b8fc1d1361d8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.001   , 0.001072, 0.00115 , 0.001233, 0.001322, 0.001417, 0.00152 ,
       0.00163 , 0.001748, 0.001874, 0.002009, 0.002154, 0.00231 , 0.002477,
       0.002656, 0.002848, 0.003054, 0.003275, 0.003511, 0.003765, 0.004037,
       0.004329, 0.004642, 0.004977, 0.005337, 0.005722, 0.006136, 0.006579,
       0.007055, 0.007565, 0.008111, 0.008697, 0.009326, 0.01    , 0.010723,
       0.011498, 0.012328, 0.013219, 0.014175, 0.015199, 0.016298, 0.017475,
       0.018738, 0.020092, 0.021544, 0.023101, 0.024771, 0.026561, 0.02848 ,
       0.030539, 0.032745, 0.035112, 0.037649, 0.04037 , 0.043288, 0.046416,
       0.04977 , 0.053367, 0.057224, 0.061359, 0.065793, 0.070548, 0.075646,
       0.081113, 0.086975, 0.09326 , 0.1     , 0.107227, 0.114976, 0.123285,
       0.132194, 0.141747, 0.151991, 0.162975, 0.174753, 0.187382, 0.200923,
       0.215443, 0.231013, 0.247708, 0.265609, 0.284804, 0.305386, 0.327455,
       0.351119, 0.376494, 0.403702, 0.432876, 0.464159, 0.497702, 0.53367 ,
       0.572237, 0.613591, 0.657933, 0.70548 , 0.756463, 0.811131, 0.869749,
       0.932603, 1.      ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>models</span></div><div class='xr-var-dims'>(models)</div><div class='xr-var-dtype'>&lt;U15</div><div class='xr-var-preview xr-preview'>&#x27;surface_fractal&#x27;</div><input id='attrs-0e0bbcb4-9dd0-4e22-9b6f-8754b900da34' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0e0bbcb4-9dd0-4e22-9b6f-8754b900da34' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-138cfc5b-a254-4c01-b42b-326c77c3cfe8' class='xr-var-data-in' type='checkbox'><label for='data-138cfc5b-a254-4c01-b42b-326c77c3cfe8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;surface_fractal&#x27;], dtype=&#x27;&lt;U15&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>surface_fractal_params</span></div><div class='xr-var-dims'>(surface_fractal_params)</div><div class='xr-var-dtype'>&lt;U26</div><div class='xr-var-preview xr-preview'>&#x27;surface_fractal_power&#x27; ... &#x27;sur...</div><input id='attrs-7e65be5c-7bc5-4944-abb2-64dee6c3a312' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7e65be5c-7bc5-4944-abb2-64dee6c3a312' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-49d481f3-5649-4f4c-878d-7a9483f74e08' class='xr-var-data-in' type='checkbox'><label for='data-49d481f3-5649-4f4c-878d-7a9483f74e08' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;surface_fractal_power&#x27;, &#x27;surface_fractal_scale&#x27;,
       &#x27;surface_fractal_background&#x27;], dtype=&#x27;&lt;U26&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>fit_q_surface_fractal</span></div><div class='xr-var-dims'>(fit_q_surface_fractal)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.001 0.001072 ... 0.9326 1.0</div><input id='attrs-586f5d42-627a-4399-85dd-e2768a17006b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-586f5d42-627a-4399-85dd-e2768a17006b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5d1a52e1-7170-48d3-b71f-e070f042a8cb' class='xr-var-data-in' type='checkbox'><label for='data-5d1a52e1-7170-48d3-b71f-e070f042a8cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.001   , 0.001072, 0.00115 , 0.001233, 0.001322, 0.001417, 0.00152 ,
       0.00163 , 0.001748, 0.001874, 0.002009, 0.002154, 0.00231 , 0.002477,
       0.002656, 0.002848, 0.003054, 0.003275, 0.003511, 0.003765, 0.004037,
       0.004329, 0.004642, 0.004977, 0.005337, 0.005722, 0.006136, 0.006579,
       0.007055, 0.007565, 0.008111, 0.008697, 0.009326, 0.01    , 0.010723,
       0.011498, 0.012328, 0.013219, 0.014175, 0.015199, 0.016298, 0.017475,
       0.018738, 0.020092, 0.021544, 0.023101, 0.024771, 0.026561, 0.02848 ,
       0.030539, 0.032745, 0.035112, 0.037649, 0.04037 , 0.043288, 0.046416,
       0.04977 , 0.053367, 0.057224, 0.061359, 0.065793, 0.070548, 0.075646,
       0.081113, 0.086975, 0.09326 , 0.1     , 0.107227, 0.114976, 0.123285,
       0.132194, 0.141747, 0.151991, 0.162975, 0.174753, 0.187382, 0.200923,
       0.215443, 0.231013, 0.247708, 0.265609, 0.284804, 0.305386, 0.327455,
       0.351119, 0.376494, 0.403702, 0.432876, 0.464159, 0.497702, 0.53367 ,
       0.572237, 0.613591, 0.657933, 0.70548 , 0.756463, 0.811131, 0.869749,
       0.932603, 1.      ])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-951a91c3-2580-4eb0-ad8b-294f4de1ead9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-951a91c3-2580-4eb0-ad8b-294f4de1ead9' class='xr-section-summary' >Data variables: <span>(10)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>I</span></div><div class='xr-var-dims'>(sample, q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.465e+03 4.598e+03 ... 1.08 1.03</div><input id='attrs-425e395b-3c0c-4d2a-ba7e-5d08f0ba43c3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-425e395b-3c0c-4d2a-ba7e-5d08f0ba43c3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5b2cf8a8-c6b1-46d6-a490-cdca0e66e6bc' class='xr-var-data-in' type='checkbox'><label for='data-5b2cf8a8-c6b1-46d6-a490-cdca0e66e6bc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.46461639e+03, 4.59795217e+03, 3.85947764e+03, 2.63116991e+03,
        2.07431068e+03, 1.90372910e+03, 1.52919611e+03, 1.18680603e+03,
        7.97363765e+02, 7.32615952e+02, 5.66816880e+02, 4.94345998e+02,
        3.36397055e+02, 2.37278594e+02, 2.42920544e+02, 1.34983362e+02,
        1.34237874e+02, 1.03846296e+02, 8.29189655e+01, 6.83701899e+01,
        6.63256975e+01, 5.12285645e+01, 3.69922707e+01, 3.39076629e+01,
        2.18803647e+01, 1.73545761e+01, 1.72935304e+01, 1.36371299e+01,
        9.99274093e+00, 7.57838776e+00, 8.03734181e+00, 4.79334463e+00,
        4.52480217e+00, 4.12653133e+00, 4.02874009e+00, 3.03039434e+00,
        2.64512398e+00, 2.08340062e+00, 2.06956646e+00, 1.77666195e+00,
        1.34466308e+00, 1.58804022e+00, 1.50286123e+00, 1.39259080e+00,
        1.22861525e+00, 1.06093375e+00, 8.70672131e-01, 1.11665926e+00,
        1.18944518e+00, 1.15730959e+00, 1.12048958e+00, 1.01513955e+00,
        1.12226043e+00, 1.09654942e+00, 9.54941615e-01, 1.05883843e+00,
        9.34551784e-01, 1.03722137e+00, 8.53878098e-01, 8.59529011e-01,
        1.08092481e+00, 1.06762940e+00, 1.03679594e+00, 9.82713801e-01,
        7.40669867e-01, 9.65608102e-01, 1.01661701e+00, 9.20115667e-01,
        9.02574126e-01, 1.11192951e+00, 9.65555406e-01, 1.01544208e+00,
        1.04633562e+00, 8.73818665e-01, 9.89752619e-01, 1.09906348e+00,
        1.14751493e+00, 9.74729174e-01, 9.47722591e-01, 9.96916206e-01,
...
        1.68659503e+01, 1.21223648e+01, 1.11133601e+01, 9.10365006e+00,
        6.73558113e+00, 6.97103702e+00, 5.41643178e+00, 4.37274298e+00,
        3.67703675e+00, 3.36002895e+00, 2.99974570e+00, 2.50035574e+00,
        1.61113936e+00, 2.02067402e+00, 1.56634607e+00, 1.64317783e+00,
        1.33669955e+00, 1.24903013e+00, 1.54373516e+00, 1.26632138e+00,
        1.20500451e+00, 1.26988377e+00, 1.13266379e+00, 1.38916806e+00,
        1.09384785e+00, 1.14612961e+00, 1.19638613e+00, 1.25087240e+00,
        9.88833790e-01, 1.01563593e+00, 1.18758077e+00, 1.13285017e+00,
        1.15581064e+00, 8.97716447e-01, 1.19776362e+00, 9.56081475e-01,
        1.05285363e+00, 1.01616943e+00, 9.39712262e-01, 8.83827077e-01,
        8.49052391e-01, 1.03995513e+00, 8.70505949e-01, 9.10332790e-01,
        1.00401302e+00, 7.55334842e-01, 1.10578357e+00, 7.78503133e-01,
        1.01759208e+00, 1.02694203e+00, 1.08046813e+00, 1.02094522e+00,
        1.23201786e+00, 1.04727214e+00, 1.13305453e+00, 9.50861724e-01,
        1.03736647e+00, 1.18358616e+00, 1.00058403e+00, 1.04463379e+00,
        1.12544799e+00, 9.48836608e-01, 8.03361737e-01, 1.05108694e+00,
        1.12621544e+00, 8.86376068e-01, 1.09356943e+00, 1.09425776e+00,
        7.91869799e-01, 9.28915087e-01, 9.84303854e-01, 1.00646082e+00,
        9.48707402e-01, 9.43185820e-01, 1.19617226e+00, 1.01384350e+00,
        9.53633740e-01, 1.02064675e+00, 1.07991038e+00, 1.03015655e+00]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dI</span></div><div class='xr-var-dims'>(sample, q)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>545.9 429.3 342.6 ... 0.1025 0.1025</div><input id='attrs-2923d464-4e35-4056-8e15-b38fdfe6a9c8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2923d464-4e35-4056-8e15-b38fdfe6a9c8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-63db9829-2543-4acc-aa17-82b22994d7be' class='xr-var-data-in' type='checkbox'><label for='data-63db9829-2543-4acc-aa17-82b22994d7be' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.45853473e+02, 4.29328308e+02, 3.42588723e+02, 2.73192209e+02,
        2.17856990e+02, 1.73733931e+02, 1.38551196e+02, 1.10497276e+02,
        8.81277103e+01, 7.02907222e+01, 5.60679092e+01, 4.47269581e+01,
        3.56839388e+01, 2.84732387e+01, 2.27235887e+01, 1.81389471e+01,
        1.44832570e+01, 1.15682920e+01, 9.24396451e+00, 7.39059804e+00,
        5.91276532e+00, 4.73437476e+00, 3.79475264e+00, 3.04551910e+00,
        2.44809713e+00, 1.97172629e+00, 1.59187891e+00, 1.28899714e+00,
        1.04748604e+00, 8.54910523e-01, 7.01355136e-01, 5.78913526e-01,
        4.81281341e-01, 4.03431633e-01, 3.41356027e-01, 2.91858335e-01,
        2.52389990e-01, 2.20918819e-01, 1.95824416e-01, 1.75814703e-01,
        1.59859408e-01, 1.47137015e-01, 1.36992465e-01, 1.28903429e-01,
        1.22453414e-01, 1.17310317e-01, 1.13209327e-01, 1.09939290e-01,
        1.07331836e-01, 1.05252710e-01, 1.03594863e-01, 1.02272932e-01,
        1.01218855e-01, 1.00378357e-01, 9.97081631e-02, 9.91737655e-02,
        9.87476489e-02, 9.84078731e-02, 9.81369435e-02, 9.79209104e-02,
        9.77486504e-02, 9.76112942e-02, 9.75017694e-02, 9.74144368e-02,
        9.73447998e-02, 9.72892728e-02, 9.72449968e-02, 9.72096921e-02,
        9.71815409e-02, 9.71590938e-02, 9.71411950e-02, 9.71269229e-02,
        9.71155427e-02, 9.71064683e-02, 9.70992326e-02, 9.70934630e-02,
        9.70888625e-02, 9.70851941e-02, 9.70822691e-02, 9.70799367e-02,
...
        1.60288535e+00, 1.32000197e+00, 1.09045307e+00, 9.04183049e-01,
        7.53032148e-01, 6.30379054e-01, 5.30850825e-01, 4.50087527e-01,
        3.84551243e-01, 3.31371090e-01, 2.88217459e-01, 2.53199961e-01,
        2.24784619e-01, 2.01726672e-01, 1.83016041e-01, 1.67833091e-01,
        1.55512715e-01, 1.45515208e-01, 1.37402619e-01, 1.30819567e-01,
        1.25477676e-01, 1.21142939e-01, 1.17625467e-01, 1.14771176e-01,
        1.12455029e-01, 1.10575566e-01, 1.09050454e-01, 1.07812885e-01,
        1.06808646e-01, 1.05993745e-01, 1.05332484e-01, 1.04795897e-01,
        1.04360477e-01, 1.04007151e-01, 1.03720440e-01, 1.03487786e-01,
        1.03298995e-01, 1.03145799e-01, 1.03021487e-01, 1.02920612e-01,
        1.02838756e-01, 1.02772333e-01, 1.02718434e-01, 1.02674696e-01,
        1.02639205e-01, 1.02610405e-01, 1.02587035e-01, 1.02568071e-01,
        1.02552683e-01, 1.02540196e-01, 1.02530063e-01, 1.02521841e-01,
        1.02515169e-01, 1.02509755e-01, 1.02505361e-01, 1.02501796e-01,
        1.02498903e-01, 1.02496556e-01, 1.02494651e-01, 1.02493105e-01,
        1.02491851e-01, 1.02490833e-01, 1.02490007e-01, 1.02489337e-01,
        1.02488793e-01, 1.02488352e-01, 1.02487994e-01, 1.02487703e-01,
        1.02487467e-01, 1.02487276e-01, 1.02487121e-01, 1.02486995e-01,
        1.02486892e-01, 1.02486809e-01, 1.02486742e-01, 1.02486687e-01,
        1.02486643e-01, 1.02486607e-01, 1.02486578e-01, 1.02486554e-01]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>model</span></div><div class='xr-var-dims'>(sample)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;surface_fractal&#x27; ... &#x27;surface_f...</div><input id='attrs-ed966931-ec8c-41fd-8d8b-62ba2571f0a6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ed966931-ec8c-41fd-8d8b-62ba2571f0a6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bece4cb1-e2da-4bc5-9bcb-7c0498949eec' class='xr-var-data-in' type='checkbox'><label for='data-bece4cb1-e2da-4bc5-9bcb-7c0498949eec' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;, &#x27;surface_fractal&#x27;,
       &#x27;surface_fractal&#x27;], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>sas_fit_sample</span></div><div class='xr-var-dims'>(sample)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 7 8 9</div><input id='attrs-76dfb351-1fe0-4f30-b8bd-ab27c6a1fd07' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-76dfb351-1fe0-4f30-b8bd-ab27c6a1fd07' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7fe2ae6e-c4da-47cd-9994-322aa4978f36' class='xr-var-data-in' type='checkbox'><label for='data-7fe2ae6e-c4da-47cd-9994-322aa4978f36' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>fit_all_chisq</span></div><div class='xr-var-dims'>(sample, models)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.023 1.054 1.081 ... 0.8714 1.083</div><input id='attrs-4282fcf8-7a33-468d-a704-ee82aa6d99f3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4282fcf8-7a33-468d-a704-ee82aa6d99f3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d138bbee-c235-4324-af3b-50f0a2514042' class='xr-var-data-in' type='checkbox'><label for='data-d138bbee-c235-4324-af3b-50f0a2514042' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>fit_calc_id :</span></dt><dd>ASAS-bf662339-c545-40e6-81bf-a64080926da1</dd><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[1.02275423],
       [1.05413472],
       [1.08126923],
       [0.83661143],
       [0.89258149],
       [0.93121783],
       [0.92739433],
       [1.07638344],
       [0.87140495],
       [1.08324978]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>probabilities</span></div><div class='xr-var-dims'>(sample, models)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.0 1.0 1.0 1.0 ... 1.0 1.0 1.0 1.0</div><input id='attrs-1460428b-2a0a-47eb-a122-62f063107ac2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1460428b-2a0a-47eb-a122-62f063107ac2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-706e4f13-389e-44a8-bddd-33635383009d' class='xr-var-data-in' type='checkbox'><label for='data-706e4f13-389e-44a8-bddd-33635383009d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[1.],
       [1.],
       [1.],
       [1.],
       [1.],
       [1.],
       [1.],
       [1.],
       [1.],
       [1.]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface_fractal_fit_val</span></div><div class='xr-var-dims'>(surface_fractal_params, sample)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.243 3.163 3.086 ... 1.0 1.0 1.0</div><input id='attrs-4086c52d-abef-47ff-bcfd-8eb67398925b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4086c52d-abef-47ff-bcfd-8eb67398925b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bad5ef23-a10d-49e6-98f6-8f0917625e3b' class='xr-var-data-in' type='checkbox'><label for='data-bad5ef23-a10d-49e6-98f6-8f0917625e3b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>fit_calc_id :</span></dt><dd>ASAS-bf662339-c545-40e6-81bf-a64080926da1</dd><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[3.24265739e+00, 3.16252070e+00, 3.08615609e+00, 3.15552503e+00,
        3.05113167e+00, 3.25242366e+00, 3.03037286e+00, 3.00000000e+00,
        3.00000000e+00, 3.00000000e+00],
       [1.00000000e-06, 1.00000000e-06, 1.00000000e-06, 1.24393004e-06,
        1.00000000e-06, 1.11492212e-06, 1.00000000e-06, 1.00000000e-06,
        1.00000000e-06, 1.00000000e-06],
       [1.00000000e+00, 1.00000000e+00, 1.00000000e+00, 1.00000000e+00,
        1.00000000e+00, 1.00000000e+00, 1.00000000e+00, 1.00000000e+00,
        1.00000000e+00, 1.00000000e+00]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface_fractal_fit_err</span></div><div class='xr-var-dims'>(surface_fractal_params, sample)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0227 0.02407 0.02557 ... 0.0 0.0</div><input id='attrs-6896ac0f-924c-4804-98e5-b6d91ac817f9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6896ac0f-924c-4804-98e5-b6d91ac817f9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4f4243d9-3304-493d-9e35-5cbb995405d4' class='xr-var-data-in' type='checkbox'><label for='data-4f4243d9-3304-493d-9e35-5cbb995405d4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>fit_calc_id :</span></dt><dd>ASAS-bf662339-c545-40e6-81bf-a64080926da1</dd><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[2.27048704e-02, 2.40659471e-02, 2.55743991e-02, 2.29994739e-02,
        2.63328387e-02, 2.28313482e-02, 2.70634988e-02, 2.78456852e-02,
        2.78247365e-02, 2.77249316e-02],
       [1.30712675e-07, 1.39863344e-07, 1.49719861e-07, 1.64556199e-07,
        1.55220020e-07, 1.45467891e-07, 1.59749280e-07, 1.64812550e-07,
        1.64903795e-07, 1.64396226e-07],
       [0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
        0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
        0.00000000e+00, 0.00000000e+00]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>fit_I_surface_fractal</span></div><div class='xr-var-dims'>(sample, fit_q_surface_fractal)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.346e+03 4.264e+03 ... 1.0 1.0</div><input id='attrs-a3053009-2c79-4641-94b2-08be772b7660' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a3053009-2c79-4641-94b2-08be772b7660' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6b6dff7f-af5d-4b80-b76e-95183a1d6136' class='xr-var-data-in' type='checkbox'><label for='data-6b6dff7f-af5d-4b80-b76e-95183a1d6136' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[5.34630102e+03, 4.26394591e+03, 3.40075387e+03, 2.71234719e+03,
        2.16333405e+03, 1.72548905e+03, 1.37630207e+03, 1.09782099e+03,
        8.75728761e+02, 6.98607372e+02, 5.57350799e+02, 4.44696876e+02,
        3.54853932e+02, 2.83203035e+02, 2.26060529e+02, 1.80488650e+02,
        1.44144493e+02, 1.15159564e+02, 9.20437118e+01, 7.36085243e+01,
        5.89062265e+01, 4.71809561e+01, 3.78299030e+01, 3.03723185e+01,
        2.44247996e+01, 1.96815772e+01, 1.58987967e+01, 1.28819809e+01,
        1.04760317e+01, 8.55725643e+00, 7.02700863e+00, 5.80661645e+00,
        4.83333808e+00, 4.05713613e+00, 3.43810516e+00, 2.94442004e+00,
        2.55069984e+00, 2.23670295e+00, 1.98628642e+00, 1.78657603e+00,
        1.62730444e+00, 1.50028331e+00, 1.39898234e+00, 1.31819352e+00,
        1.25376340e+00, 1.20237956e+00, 1.16140028e+00, 1.12871879e+00,
        1.10265488e+00, 1.08186858e+00, 1.06529124e+00, 1.05207060e+00,
        1.04152697e+00, 1.03311829e+00, 1.02641226e+00, 1.02106411e+00,
        1.01679890e+00, 1.01339734e+00, 1.01068455e+00, 1.00852106e+00,
        1.00679566e+00, 1.00541962e+00, 1.00432222e+00, 1.00344702e+00,
        1.00274905e+00, 1.00219240e+00, 1.00174847e+00, 1.00139442e+00,
        1.00111207e+00, 1.00088689e+00, 1.00070731e+00, 1.00056409e+00,
        1.00044987e+00, 1.00035877e+00, 1.00028613e+00, 1.00022819e+00,
        1.00018198e+00, 1.00014513e+00, 1.00011575e+00, 1.00009231e+00,
...
        1.61991108e+01, 1.33284674e+01, 1.10000000e+01, 9.11130831e+00,
        7.57933225e+00, 6.33669923e+00, 5.32876128e+00, 4.51119173e+00,
        3.84803587e+00, 3.31012970e+00, 2.87381742e+00, 2.51991108e+00,
        2.23284674e+00, 2.00000000e+00, 1.81113083e+00, 1.65793322e+00,
        1.53366992e+00, 1.43287613e+00, 1.35111917e+00, 1.28480359e+00,
        1.23101297e+00, 1.18738174e+00, 1.15199111e+00, 1.12328467e+00,
        1.10000000e+00, 1.08111308e+00, 1.06579332e+00, 1.05336699e+00,
        1.04328761e+00, 1.03511192e+00, 1.02848036e+00, 1.02310130e+00,
        1.01873817e+00, 1.01519911e+00, 1.01232847e+00, 1.01000000e+00,
        1.00811131e+00, 1.00657933e+00, 1.00533670e+00, 1.00432876e+00,
        1.00351119e+00, 1.00284804e+00, 1.00231013e+00, 1.00187382e+00,
        1.00151991e+00, 1.00123285e+00, 1.00100000e+00, 1.00081113e+00,
        1.00065793e+00, 1.00053367e+00, 1.00043288e+00, 1.00035112e+00,
        1.00028480e+00, 1.00023101e+00, 1.00018738e+00, 1.00015199e+00,
        1.00012328e+00, 1.00010000e+00, 1.00008111e+00, 1.00006579e+00,
        1.00005337e+00, 1.00004329e+00, 1.00003511e+00, 1.00002848e+00,
        1.00002310e+00, 1.00001874e+00, 1.00001520e+00, 1.00001233e+00,
        1.00001000e+00, 1.00000811e+00, 1.00000658e+00, 1.00000534e+00,
        1.00000433e+00, 1.00000351e+00, 1.00000285e+00, 1.00000231e+00,
        1.00000187e+00, 1.00000152e+00, 1.00000123e+00, 1.00000100e+00]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>residuals_surface_fractal</span></div><div class='xr-var-dims'>(sample, fit_q_surface_fractal)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-0.2168 -0.778 ... -0.7797 -0.2942</div><input id='attrs-7528d85a-a128-41d8-a8a3-8e56c7b08da7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7528d85a-a128-41d8-a8a3-8e56c7b08da7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-068eac1e-2634-41f4-8edf-62699b3908c1' class='xr-var-data-in' type='checkbox'><label for='data-068eac1e-2634-41f4-8edf-62699b3908c1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>name :</span></dt><dd>AutoSAS</dd><dt><span>input_variable :</span></dt><dd>[&#x27;q&#x27;, &#x27;I&#x27;, &#x27;dI&#x27;]</dd><dt><span>output_variable :</span></dt><dd>[&#x27;fit_all_chisq&#x27;]</dd><dt><span>input_prefix :</span></dt><dd>None</dd><dt><span>output_prefix :</span></dt><dd>fit</dd><dt><span>server_id :</span></dt><dd>None</dd><dt><span>fit_method :</span></dt><dd>None</dd><dt><span>model_inputs :</span></dt><dd>[{&#x27;name&#x27;: &#x27;surface_fractal&#x27;, &#x27;sasmodel&#x27;: &#x27;power_law&#x27;, &#x27;q_min&#x27;: 0.001, &#x27;q_max&#x27;: 1.0, &#x27;fit_params&#x27;: {&#x27;power&#x27;: {&#x27;value&#x27;: 4, &#x27;bounds&#x27;: (3, 4)}, &#x27;scale&#x27;: {&#x27;value&#x27;: 1.0, &#x27;bounds&#x27;: (1e-06, 0.001)}, &#x27;background&#x27;: {&#x27;value&#x27;: 1.0}}}]</dd><dt><span>results :</span></dt><dd>{}</dd><dt><span>q_variable :</span></dt><dd>q</dd><dt><span>sas_variable :</span></dt><dd>I</dd><dt><span>sas_err_variable :</span></dt><dd>dI</dd><dt><span>resolution :</span></dt><dd>None</dd><dt><span>sample_dim :</span></dt><dd>sample</dd><dt><span>model_dim :</span></dt><dd>models</dd><dt><span>q_min :</span></dt><dd>None</dd><dt><span>q_max :</span></dt><dd>None</dd></dl></div><div class='xr-var-data'><pre>array([[-2.16752990e-01, -7.77973996e-01, -1.33899259e+00,
         2.97143447e-01,  4.08632158e-01, -1.02593687e+00,
        -1.10352015e+00, -8.05314360e-01,  8.89220839e-01,
        -4.83827433e-01, -1.68832413e-01, -1.11004916e+00,
         5.17232048e-01,  1.61289840e+00, -7.41960907e-01,
         2.50870613e+00,  6.84004966e-01,  9.77954912e-01,
         9.87103123e-01,  7.08783555e-01, -1.25482250e+00,
        -8.54940434e-01,  2.20734346e-01, -1.16083474e+00,
         1.03935211e+00,  1.18018467e+00, -8.76155623e-01,
        -5.85842285e-01,  4.61381563e-01,  1.14499546e+00,
        -1.44054435e+00,  1.75029910e+00,  6.41071832e-01,
        -1.72012274e-01, -1.73026073e+00, -2.94575467e-01,
        -3.74119994e-01,  6.93930638e-01, -4.25279170e-01,
         5.63893416e-02,  1.76806211e+00, -5.96429817e-01,
        -7.58281791e-01, -5.77155176e-01,  2.05369075e-01,
         1.20574052e+00,  2.56805831e+00,  1.09692650e-01,
        -8.08616586e-01, -7.16760782e-01, -5.32828960e-01,
         3.61102861e-01, -7.97612848e-01, -6.31920374e-01,
         7.16798308e-01, -3.80890196e-01,  8.32902019e-01,
        -2.42094753e-01,  1.59783303e+00,  1.52155502e+00,
...
         1.64312351e-01, -2.31663902e+00,  5.47076823e-02,
        -5.87982736e-01, -1.19754487e+00, -1.83192763e+00,
         5.09825983e-01,  1.83746553e-01, -1.51045913e+00,
        -1.04726311e+00, -1.31345192e+00,  1.12956333e+00,
        -1.78783612e+00,  5.21013424e-01, -4.33134095e-01,
        -9.29761128e-02,  6.36997576e-01,  1.17082169e+00,
         1.50195127e+00, -3.61061144e-01,  1.28315996e+00,
         8.91563656e-01, -2.42900244e-02,  2.39642368e+00,
        -1.02141144e+00,  2.16741911e+00, -1.65126360e-01,
        -2.57541586e-01, -7.80602840e-01, -2.00875219e-01,
        -2.26047582e+00, -4.58894121e-01, -1.29619708e+00,
         4.80872224e-01, -3.63352066e-01, -1.79016906e+00,
        -4.90676381e-03, -4.34838968e-01, -1.22345948e+00,
         4.99622042e-01,  1.91895172e+00, -4.98183170e-01,
        -1.23127939e+00,  1.10883498e+00, -9.12831116e-01,
        -9.19577950e-01,  2.03088443e+00,  6.93676589e-01,
         1.53216571e-01, -6.29883384e-02,  5.00521825e-01,
         5.54390285e-01, -1.91409547e+00, -1.35053495e-01,
         4.52430996e-01, -2.01443216e-01, -7.79703544e-01,
        -2.94239072e-01]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f11d8ed1-c6ca-402f-919e-3d586a43eeac' class='xr-section-summary-in' type='checkbox'  ><label for='section-f11d8ed1-c6ca-402f-919e-3d586a43eeac' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>q</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-9f57a888-48de-42c1-9407-9c198d45407c' class='xr-index-data-in' type='checkbox'/><label for='index-9f57a888-48de-42c1-9407-9c198d45407c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([                0.001, 0.0010722672220103231, 0.0011497569953977356,
       0.0012328467394420659, 0.0013219411484660286, 0.0014174741629268048,
       0.0015199110829529332, 0.0016297508346206436,  0.001747528400007683,
        0.001873817422860383,  0.002009233002565048, 0.0021544346900318843,
       0.0023101297000831605, 0.0024770763559917113, 0.0026560877829466868,
        0.002848035868435802, 0.0030538555088334154, 0.0032745491628777285,
        0.003511191734215131, 0.0037649358067924675,  0.004037017258596553,
        0.004328761281083057,  0.004641588833612782,  0.004977023564332114,
        0.005336699231206312,   0.00572236765935022,  0.006135907273413176,
        0.006579332246575682,  0.007054802310718645,  0.007564633275546291,
        0.008111308307896872,  0.008697490026177835,    0.0093260334688322,
                        0.01,  0.010722672220103232,  0.011497569953977356,
        0.012328467394420659,  0.013219411484660293,  0.014174741629268055,
         0.01519911082952934,  0.016297508346206444,   0.01747528400007684,
         0.01873817422860384,   0.02009233002565047,  0.021544346900318846,
        0.023101297000831605,  0.024770763559917114,  0.026560877829466867,
         0.02848035868435802,  0.030538555088334154,   0.03274549162877728,
         0.03511191734215131,  0.037649358067924674,   0.04037017258596556,
         0.04328761281083059,  0.046415888336127795,  0.049770235643321115,
          0.0533669923120631,   0.05722367659350217,   0.06135907273413173,
         0.06579332246575682,   0.07054802310718646,   0.07564633275546291,
         0.08111308307896872,   0.08697490026177834,     0.093260334688322,
                         0.1,   0.10722672220103231,   0.11497569953977356,
         0.12328467394420659,   0.13219411484660287,   0.14174741629268048,
          0.1519911082952933,   0.16297508346206452,    0.1747528400007685,
          0.1873817422860385,    0.2009233002565048,   0.21544346900318845,
         0.23101297000831603,   0.24770763559917114,   0.26560877829466867,
          0.2848035868435802,   0.30538555088334157,   0.32745491628777285,
          0.3511191734215131,   0.37649358067924676,   0.40370172585965536,
          0.4328761281083057,    0.4641588833612782,   0.49770235643321137,
          0.5336699231206312,     0.572236765935022,    0.6135907273413176,
          0.6579332246575682,    0.7054802310718645,    0.7564633275546291,
          0.8111308307896873,    0.8697490026177834,    0.9326033468832199,
                         1.0],
      dtype=&#x27;float64&#x27;, name=&#x27;q&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>models</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-89824c48-f9e3-42b2-aecf-952f79ce21f4' class='xr-index-data-in' type='checkbox'/><label for='index-89824c48-f9e3-42b2-aecf-952f79ce21f4' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;surface_fractal&#x27;], dtype=&#x27;object&#x27;, name=&#x27;models&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>surface_fractal_params</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-6223f5cc-1ae3-456c-9acb-40cf624b583d' class='xr-index-data-in' type='checkbox'/><label for='index-6223f5cc-1ae3-456c-9acb-40cf624b583d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;surface_fractal_power&#x27;, &#x27;surface_fractal_scale&#x27;,
       &#x27;surface_fractal_background&#x27;],
      dtype=&#x27;object&#x27;, name=&#x27;surface_fractal_params&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>fit_q_surface_fractal</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-c114b8b6-3860-4158-9d3b-566509619a24' class='xr-index-data-in' type='checkbox'/><label for='index-c114b8b6-3860-4158-9d3b-566509619a24' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([                0.001, 0.0010722672220103231, 0.0011497569953977356,
       0.0012328467394420659, 0.0013219411484660286, 0.0014174741629268048,
       0.0015199110829529332, 0.0016297508346206436,  0.001747528400007683,
        0.001873817422860383,  0.002009233002565048, 0.0021544346900318843,
       0.0023101297000831605, 0.0024770763559917113, 0.0026560877829466868,
        0.002848035868435802, 0.0030538555088334154, 0.0032745491628777285,
        0.003511191734215131, 0.0037649358067924675,  0.004037017258596553,
        0.004328761281083057,  0.004641588833612782,  0.004977023564332114,
        0.005336699231206312,   0.00572236765935022,  0.006135907273413176,
        0.006579332246575682,  0.007054802310718645,  0.007564633275546291,
        0.008111308307896872,  0.008697490026177835,    0.0093260334688322,
                        0.01,  0.010722672220103232,  0.011497569953977356,
        0.012328467394420659,  0.013219411484660293,  0.014174741629268055,
         0.01519911082952934,  0.016297508346206444,   0.01747528400007684,
         0.01873817422860384,   0.02009233002565047,  0.021544346900318846,
        0.023101297000831605,  0.024770763559917114,  0.026560877829466867,
         0.02848035868435802,  0.030538555088334154,   0.03274549162877728,
         0.03511191734215131,  0.037649358067924674,   0.04037017258596556,
         0.04328761281083059,  0.046415888336127795,  0.049770235643321115,
          0.0533669923120631,   0.05722367659350217,   0.06135907273413173,
         0.06579332246575682,   0.07054802310718646,   0.07564633275546291,
         0.08111308307896872,   0.08697490026177834,     0.093260334688322,
                         0.1,   0.10722672220103231,   0.11497569953977356,
         0.12328467394420659,   0.13219411484660287,   0.14174741629268048,
          0.1519911082952933,   0.16297508346206452,    0.1747528400007685,
          0.1873817422860385,    0.2009233002565048,   0.21544346900318845,
         0.23101297000831603,   0.24770763559917114,   0.26560877829466867,
          0.2848035868435802,   0.30538555088334157,   0.32745491628777285,
          0.3511191734215131,   0.37649358067924676,   0.40370172585965536,
          0.4328761281083057,    0.4641588833612782,   0.49770235643321137,
          0.5336699231206312,     0.572236765935022,    0.6135907273413176,
          0.6579332246575682,    0.7054802310718645,    0.7564633275546291,
          0.8111308307896873,    0.8697490026177834,    0.9326033468832199,
                         1.0],
      dtype=&#x27;float64&#x27;, name=&#x27;fit_q_surface_fractal&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-dea29b79-9c40-4b93-992b-028944d81c1c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-dea29b79-9c40-4b93-992b-028944d81c1c' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>This is a large and complicated dataset, but it contains all of the information from the fit, including:</p>
<ul class="simple">
<li><p>The fitted parameter values for each model (e.g. <code class="docutils literal notranslate"><span class="pre">surface_fractal_fit_val</span></code>)</p></li>
<li><p>The uncertainties in the fitted parameters (e.g. <code class="docutils literal notranslate"><span class="pre">surface_fractal_fit_err</span></code>)</p></li>
<li><p>The model intensities at each q value (e.g. <code class="docutils literal notranslate"><span class="pre">fit_I_surface_fractal</span></code>)</p></li>
<li><p>The residuals between the model and data (e.g. <code class="docutils literal notranslate"><span class="pre">residuals_surface_fractal</span></code>)</p></li>
<li><p>The chi-squared values for each fit (<code class="docutils literal notranslate"><span class="pre">fit_all_chisq</span></code>)</p></li>
<li><p>The q values used for the fit (e.g. <code class="docutils literal notranslate"><span class="pre">fit_q_surface_fractal</span></code>)</p></li>
</ul>
<p>We can use this information to evaluate the quality of the fits and compare different models. Let’s plot some of the fits:</p>
</section>
<section id="Evaluating-the-Fit-Results">
<h2>Evaluating the Fit Results<a class="headerlink" href="#Evaluating-the-Fit-Results" title="Permalink to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">ds_result</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">data_index</span><span class="p">)</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">,</span><span class="n">xscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">yscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">add_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
<span class="n">ds_result</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">data_index</span><span class="p">)</span><span class="o">.</span><span class="n">fit_I_surface_fractal</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;fit_q_surface_fractal&#39;</span><span class="p">,</span><span class="n">xscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">yscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span><span class="n">add_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_autosas_fitting_18_0.png" src="../_images/tutorials_autosas_fitting_18_0.png" />
</div>
</div>
<p>The residuals (differences between the model and data) provide a key way to assess the quality of the fits. A good fit should show residuals that:</p>
<ol class="arabic simple">
<li><p>Are randomly scattered around zero</p></li>
<li><p>Have no clear systematic trends or patterns</p></li>
<li><p>Are roughly within ±2-3 standard deviations of zero</p></li>
</ol>
<p>Let’s plot the residuals for the first sample to assess the quality of our surface fractal fits:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_result</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">data_index</span><span class="p">)</span><span class="o">.</span><span class="n">residuals_surface_fractal</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;fit_q_surface_fractal&#39;</span><span class="p">,</span> <span class="n">xscale</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">add_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.lines.Line2D at 0x312294050&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_autosas_fitting_20_1.png" src="../_images/tutorials_autosas_fitting_20_1.png" />
</div>
</div>
<p>Vary the <code class="docutils literal notranslate"><span class="pre">data_index</span></code> variable from two cells up and see how well we fit each individual data.</p>
<p>We can also plot the fit parameters</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the power parameter (index 1 in surface_fractal_params)</span>
<span class="n">ds_result</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">surface_fractal_params</span><span class="o">=</span><span class="s1">&#39;surface_fractal_power&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">surface_fractal_fit_val</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Power parameter&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sample index&#39;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;Sample index&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_autosas_fitting_22_1.png" src="../_images/tutorials_autosas_fitting_22_1.png" />
</div>
</div>
</section>
<section id="Conclusion">
<h2>Conclusion<a class="headerlink" href="#Conclusion" title="Permalink to this heading">#</a></h2>
<p>In this tutorial, we demonstrated how to use the AutoSAS module to fit small-angle scattering (SAS) data. We:</p>
<ol class="arabic simple">
<li><p>Loaded synthetic dataset with 10 samples and fit it using a surface fractal model</p></li>
<li><p>Visualized the fits by plotting the data and model curves on log-log axes</p></li>
<li><p>Analyzed the quality of the fits by examining the residuals between the model and data</p></li>
<li><p>Explored how the model parameters vary across different samples</p></li>
</ol>
<p>The AutoSAS module provides a flexible framework for fitting SAS data with different models, evaluating fit quality, and extracting physical parameters.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="building_pipelines.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Building Pipelines</p>
      </div>
    </a>
    <a class="right-next"
       href="interactive.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Interactive Tutorials</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Google-Colab-Setup">Google Colab Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Getting-Started">Getting Started</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Defining-the-Fit">Defining the Fit</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Building-and-Executing-the-Pipeline">Building and Executing the Pipeline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Evaluating-the-Fit-Results">Evaluating the Fit Results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Conclusion">Conclusion</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorials/autosas_fitting.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright : Official Contribution of the US Government.  Not subject to copyright in the United States.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>

  <!-- Taken from https://www.filamentgroup.com/lab/html-includes/#another-demo%3A-including-another-html-file -->
  <iframe src="../_static/ntd2d_menu.html" onload="this.before((this.contentDocument.body||this.contentDocument).children[0]);this.remove()"></iframe>
  </body>
</html>