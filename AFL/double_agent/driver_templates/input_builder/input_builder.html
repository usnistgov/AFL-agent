<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <title>Input Builder</title>
  <link rel='stylesheet' href='static/input_builder_css/style.css'>
</head>
<body>
  <div id='app-container'>
    <!-- Header -->
    <div id='header'>
      <h1>Input Builder</h1>
      <div id='toolbar'>
        <div class='toolbar-group'>
          <button id='add-group-btn' class='toolbar-btn group-action'>+ Add Group</button>
          <button id='remove-group-btn' class='toolbar-btn group-action-danger' disabled>- Remove Group</button>
        </div>
        <div class='toolbar-divider'></div>
        <div class='toolbar-group'>
          <button id='load-config-btn' class='toolbar-btn config-action'>Load Config</button>
          <button id='save-config-btn' class='toolbar-btn config-action'>Save Config</button>
        </div>
        <div class='toolbar-divider'></div>
        <button id='preview-json-btn' class='toolbar-btn'>Preview JSON</button>
        <button id='assemble-input-btn' class='toolbar-btn execute-action'>Assemble Input</button>
        <button id='predict-btn' class='toolbar-btn predict-action'>Predict</button>
      </div>
    </div>

    <!-- Main Content -->
    <div id='main-content'>
      <!-- Left Panel: Group List -->
      <div id='group-list-panel'>
        <h2>Groups</h2>
        <div id='group-list'>
          <div class='empty-state'>No groups configured. Click "Add Group" to get started.</div>
        </div>
      </div>

      <!-- Right Panel: Group Editor -->
      <div id='group-editor-panel'>
        <h2>Edit Group</h2>
        <div id='editor-content'>
          <div class='empty-state'>Select a group to edit</div>
        </div>
      </div>
    </div>

    <!-- Status Message -->
    <div id='status-message' class='hidden'></div>

    <!-- Outputs Pane -->
    <div id='outputs-pane' class='outputs-pane collapsed'>
      <div id='outputs-pane-header' class='outputs-pane-header'>
        <h3>Outputs & Errors</h3>
        <div class='outputs-pane-controls'>
          <span id='outputs-count' class='outputs-count'>0</span>
          <button id='toggle-outputs-pane' class='toggle-btn' title='Toggle pane'>▲</button>
          <button id='clear-outputs-btn' class='clear-btn' title='Clear outputs'>Clear</button>
        </div>
      </div>
      <div id='outputs-pane-content' class='outputs-pane-content'>
        <div id='outputs-list' class='outputs-list'>
          <div class='empty-state'>No outputs yet</div>
        </div>
      </div>
    </div>
  </div>

  <!-- JSON Preview Modal -->
  <div id='json-preview-modal' class='modal hidden'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h3>JSON Preview</h3>
        <button id='close-json-modal' class='close-btn'>×</button>
      </div>
      <div class='modal-body'>
        <div id='json-validation-status'></div>
        <textarea id='json-preview-textarea' readonly></textarea>
        <div class='modal-actions'>
          <button id='copy-json-btn' class='toolbar-btn'>Copy to Clipboard</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Dataset Preview Modal -->
  <div id='dataset-preview-modal' class='modal hidden'>
    <div class='modal-content modal-large'>
      <div class='modal-header'>
        <h3>Assembled Dataset</h3>
        <button id='close-dataset-modal' class='close-btn'>×</button>
      </div>
      <div class='modal-body'>
        <div id='dataset-summary'></div>
        <div id='dataset-html-content'></div>
      </div>
    </div>
  </div>

  <!-- Prediction Results Modal -->
  <div id='predict-results-modal' class='modal hidden'>
    <div class='modal-content modal-large'>
      <div class='modal-header'>
        <h3>Prediction Results</h3>
        <button id='close-predict-modal' class='close-btn'>×</button>
      </div>
      <div class='modal-body'>
        <div id='predict-results-content'></div>
      </div>
    </div>
  </div>

  <!-- Return Value Viewer Modal -->
  <div id='returnval-modal' class='modal hidden'>
    <div class='modal-content modal-large'>
      <div class='modal-header'>
        <h3>Return Value</h3>
        <button id='close-returnval-modal' class='close-btn'>×</button>
      </div>
      <div class='modal-body'>
        <div id='returnval-content'></div>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id='loading-overlay' class='hidden'>
    <div class='loading-spinner'></div>
    <div class='loading-text'>Processing...</div>
  </div>

  <script type="module" src="static/input_builder_js/main.js"></script>
</body>
</html>
